@using Shared.Chat;
<!-- Index.cshtml -->
@model List<ChatRoom>
@{
    ViewData["Title"] = "Join Chat Rooms";
}
<div class="container">
    <h1 class="mt-4">Chat Rooms</h1>

    <ul class="list-group mt-3">
        @foreach (var room in Model)
        {
            <li class="list-group-item">
                <h5>@room.Name</h5>
                <p>@room.Description</p>
                <a asp-action="GetChatRoom" asp-route-idChatRoom="@room.Id" class="btn btn-primary">Go to room</a>
            </li>
        }
    </ul>

    <button class="btn btn-success mt-3" onclick="showCreateChatRoomPopup()">Create New Room</button>

    <div id="createChatRoomPopup" class="mt-3" style="display: none;">
        <h2>Create Chat Room</h2>

        <form asp-action="Create" method="post">
            <div class="form-group">
                <label for="Name">Name:</label>
                <input type="text" class="form-control" id="Name" name="Name" required>
            </div>
            <div class="form-group">
                <label for="Description">Description:</label>
                <input type="text" class="form-control" id="Description" name="Description" required>
            </div>
            <button type="submit" class="btn btn-primary">Create Room</button>
        </form>
    </div>
</div>

<script>
    function showCreateChatRoomPopup() {
        var popup = document.getElementById("createChatRoomPopup");
        popup.style.display = "block";
    }
</script>
